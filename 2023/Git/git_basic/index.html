<!DOCTYPE html><html lang="en-US" theme-mode="dark"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Git &amp; GitHub | 📔My_note</title><link rel="icon" type="image/x-icon" href="/favicon.ico"><link rel="preload" as="font" crossorigin="anonymous" href="/font/Bender.ttf"><link rel="preload" as="font" crossorigin="anonymous" href="/font/BenderLight.ttf"><link rel="preload" as="font" crossorigin="anonymous" href="/font/JetBrainsMono-Regular.woff2"><link rel="stylesheet" href="/css/arknights.css"><style>@font-face {
  font-family: Bender;
  src: local('Bender'), url("/font/Bender.ttf"), url("/font/Bender.otf");
}
@font-face {
  font-family: BenderLight;
  src: local('BenderLight'), url("/font/BenderLight.ttf");
}
@font-face {
  font-family: 'JetBrains Mono';
  src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}
</style><script>var config = {"root":"/","search":{"preload":false,"activeHolder":"键入以继续","blurHolder":"数据检索","noResult":"无 $0 相关数据"},"code":{"codeInfo":"$0 - $1 行","copy":"复制"}}</script><link type="text/css" rel="stylesheet" href="/lib/encrypt/hbe.style.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lightgallery.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-zoom.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-thumbnail.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/css/all.min.css"><link rel="stylesheet" href="//unpkg.com/@highlightjs/cdn-assets@11.4.0/styles/atom-one-dark-reasonable.min.css"><script>if (window.localStorage.getItem('theme-mode') === 'light')
 document.documentElement.setAttribute('theme-mode', 'light')
if (window.localStorage.getItem('theme-mode') === 'dark')
 document.documentElement.setAttribute('theme-mode', 'dark')</script><style>:root {
 --dark-background: url('/img/bg.jpg');
 --light-background: url('/img/bk.jpg');
 --theme-encrypt-confirm: '确认'
}</style><script defer src="/js/arknights.js"></script><script defer src="/js/search.js"></script><script defer type="module">import mermaid from '//unpkg.com/mermaid@10.5.0/dist/mermaid.esm.mjs';
window.mermaid = mermaid;
code.paintMermaid();
</script><script defer src="//unpkg.com/@highlightjs/cdn-assets@11.4.0/highlight.min.js"></script><script async src="//unpkg.com/lightgallery@2.7.1/lightgallery.min.js"></script><script async src="//unpkg.com/lightgallery@2.7.1/plugins/zoom/lg-zoom.min.js"></script><script async src="//unpkg.com/lightgallery@2.7.1/plugins/thumbnail/lg-thumbnail.min.js"></script><script async src="/lib/encrypt/hbe.js"></script><script async src="/js/pjax.js"></script><script class="pjax-js">reset= () => {document.querySelector('.lg-container')?.remove()
lightGallery(document.getElementById('post-bg'), {
  plugins: [lgZoom,lgThumbnail],
  selector: '.item-img'})}</script><script>window.addEventListener("load",() => {pjax = new Pjax({
 cacheBust: false,
 selectors: ['title','article','#aside-block','.pjax-js','data-pjax','.busuanzi'],
 switches: {'article': Pjax.switches.sideBySide},
 switchesOptions: {
   'article': {
     classNames: {
       remove: "pjax-out",
       add: "pjax-in"
     }
   }
 }
});
document.addEventListener("pjax:complete", reset);reset()})</script><meta name="generator" content="Hexo 6.3.0"></head><body><div class="loading" style="opacity: 0;"><div class="loadingBar left"></div><div class="loadingBar right"></div></div><main><header class="closed"><div class="navBtn"><i class="navBtnIcon"><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span></i></div><nav><div class="navItem" id="search-header"><span class="navItemTitle"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="数据检索" spellcheck="false" maxlength="50" type="text" id="search-input"></span></div><div class="navItem" id="search-holder"></div><div class="search-popup" tabindex="0"><div id="search-result"></div></div><ol class="navContent"><li class="navItem"><a class="navBlock" href="/"><span class="navItemTitle">Home</span></a></li><li class="navItem" matchdata="categories,tags"><a class="navBlock" href="/archives/"><span class="navItemTitle">Archives</span></a></li></ol></nav></header><article><div id="post-bg"><div id="post-title"><h1>Git &amp; GitHub</h1><div id="post-info"><span>文章发布时间: <div class="control"><time datetime="2023-01-08T16:00:46.336Z" id="date"> 2023-01-09</time></div></span><br><span>最后更新时间: <div class="control"><time datetime="2023-12-06T01:03:47.222Z" id="updated"> 2023-12-06</time></div></span></div></div><hr><div id="post-content"><h2 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h2><p>Git 官网: <a target="_blank" rel="noopener" href="https://git-scm.com/">https://git-scm.com</a></p>
<p>Git: 代码版本管理工具</p>
<ul>
<li>版本控制系统</li>
<li>管理代码历史</li>
<li>跟踪代码变化</li>
</ul>
<p>通过时间控制和跟踪代码变化<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup></p>
<hr>
<h3 id="Git-的工作方式"><a href="#Git-的工作方式" class="headerlink" title="Git 的工作方式"></a>Git 的工作方式</h3><p><strong>工作目录:</strong> 使用的项目文件都将由 git 管理的目录</p>
<ol>
<li>第一次 <code>commit</code>: 类似于快照, 将所有的文件保存下来</li>
<li>第二次<code>commit</code>: 只将有改动的文件内容保存下来, 而不是保存文件本身</li>
<li>当工作目录新增文件时<br>第三次<code>commit</code>: 新增的文件将被保存</li>
</ol>
<p><strong>分支:</strong><br>默认情况下, git 会将你的更改提交至 <code>master</code> 分支(<code>main</code> 分支)</p>
<p>当想要在主分支的基础上开发新的东西, 而不影响主分支的代码, 就需要用到分支<br>分支可以创建完全独立的工作目录, 是主分支的完整副本<br>分支可以合并至主分支</p>
<p>工作树:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs mermaid">flowchart TB<br>1[主分支] --&gt; 分支1<br>1[主分支] --&gt; 分支2<br>1[主分支] --&gt; ...<br>分支1 --合并--&gt; 2[主分支]<br></code></pre></td></tr></table></figure>

<p>在 git 管理的目录下会有有个 <code>.git</code> 的隐藏目录, 这个目录被称为 git 仓库</p>
<p><strong>git 仓库包含两个不同的区域:</strong></p>
<ul>
<li>暂存区, 一个索引文件<ul>
<li>可以将其看作是草稿区, 用于暂存代码的改变</li>
</ul>
</li>
<li>对象文件夹, 包含不同的 <code>commit</code><ul>
<li>保存实际的文件和跟踪的改变</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs mermaid">graph LR<br><br>工作目录 --add--&gt; 暂存区 --commit--&gt; 对象文件夹<br><br></code></pre></td></tr></table></figure>

<hr>
<h3 id="仓库初始化-和-提交-Commit"><a href="#仓库初始化-和-提交-Commit" class="headerlink" title="仓库初始化 和 提交 Commit"></a>仓库初始化 和 提交 Commit</h3><p>如果想要 git 管理工作目录, 需要初始化 git 仓库</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 查看git仓库信息</span><br>git status<br><br><span class="hljs-comment"># 仓库初始化</span><br>git init<br></code></pre></td></tr></table></figure>

<p>将文件加入暂存区</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">git add &lt;文件&gt;<br><br><span class="hljs-comment"># 一个例子</span><br>git add ./<br></code></pre></td></tr></table></figure>

<p>提交至 git 仓库</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># -m 选项: 提交的信息</span><br><span class="hljs-comment"># -m (message)</span><br>git commit -m &lt;备注的信息&gt;<br></code></pre></td></tr></table></figure>

<p>如果没有为 git 配置用户名和邮箱, <code>commit</code> 会报错</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git config --global user.email &lt;电子邮箱地址&gt;<br>git config --global user.name &lt;用户名&gt;<br></code></pre></td></tr></table></figure>

<p>查看提交信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">log</span><br><br><span class="hljs-comment"># 示例:</span><br><span class="hljs-comment"># 输出的信息</span><br>commit 3e3ce608e2a283a807a208ed734bc1659a91d3e8 (HEAD -&gt; master)    <span class="hljs-comment"># 提交id</span><br>Author: voilone &lt;voilone@qq.com&gt;<br>Date:   Sun Jan 8 23:26:20 2023 +0800<br><br>    first commit<br></code></pre></td></tr></table></figure>

<p>如果有多个 <code>commit</code>, 而你想跳转到一个指定的 <code>commit</code><br>先查看并复制 <code>commit</code> 的 id<br>然后:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git checkout &lt;commit ID&gt;<br><br></code></pre></td></tr></table></figure>

<p>当跳转到指定的 <code>commit</code><br>用 <code>git log</code> 指令将不会看到指定 <code>commit</code> 后的 <code>commit</code><br>但这并不意味着后面的 <code>commit</code> 被删除了</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 跳回分支 master 最后的commit</span><br>git checkout master<br><br><span class="hljs-comment"># 会发现, git log 命令又恢复显示回所有的 commit 了</span><br></code></pre></td></tr></table></figure>

<hr>
<h3 id="分支-Branches"><a href="#分支-Branches" class="headerlink" title="分支 Branches"></a>分支 Branches</h3><p>创建的第一个分支, 默认名称为 <code>master</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 查看现有分支</span><br>git branch<br></code></pre></td></tr></table></figure>

<p>创建分支</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 分支名不允许有空格</span><br>git branch &lt;分支名&gt;<br><span class="hljs-comment"># 或</span><br>git checkout -b &lt;分支名&gt;<br><br><span class="hljs-comment"># 例:</span><br>git branch second-branch<br></code></pre></td></tr></table></figure>

<p>切换至指定的分支</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git checkout &lt;分支名&gt;<br></code></pre></td></tr></table></figure>

<p>在新建的分支 2 下<br><code>git log</code> 命令会显示与主分支一模一样的 <code>commit</code> 包括 <code>commit</code> id</p>
<hr>
<h4 id="合并分支"><a href="#合并分支" class="headerlink" title="合并分支"></a>合并分支</h4><p>将分支合并至主分支</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-comment"># 将指定分支合并至当前分支</span><br>git merge &lt;指定的分支&gt;<br></code></pre></td></tr></table></figure>

<hr>
<h4 id="新命令"><a href="#新命令" class="headerlink" title="新命令"></a>新命令</h4><p>新命令主要是功能与命令相契合, 便于理解和使用</p>
<p>如果使用的 git 版本 &gt;&#x3D; 2.23<br>就可以使用这些新命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 查看 git 版本</span><br>git -v<br></code></pre></td></tr></table></figure>

<p>切换和创建分支</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 切换分支</span><br>git switch &lt;分支名&gt;<br><br><span class="hljs-comment"># 创建分支</span><br>git switch -c &lt;分支名&gt;<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="HEAD"><a href="#HEAD" class="headerlink" title="HEAD"></a>HEAD</h3><p>使用 <code>git log</code> 我们会发现<br>在一些 <code>commit</code> 后面会有一个 <code>(HEAD -&gt; 分支1, 分支2, ...)</code></p>
<p>最后一次 <code>commit</code> 称之为 <code>head</code>, 这是一个默认行为</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs mermaid">flowchart LR<br><br>other --- co1<br><br>h2(HEAD) --&gt; co3<br><br>subgraph commits2<br><br>co1(&quot;commit1&quot;) --&gt; co2(&quot;commit2&quot;) --&gt; co3(&quot;commit3&quot;)<br><br>end<br><br><br><br>master --- commit1<br><br>h1(HEAD) --&gt; commit3<br><br>subgraph commits<br>commit1(&quot;commit1&quot;) --&gt; commit2(&quot;commit2&quot;) --&gt; commit3(&quot;commit3&quot;)<br>end<br><br></code></pre></td></tr></table></figure>

<h4 id="分离-HEAD"><a href="#分离-HEAD" class="headerlink" title="分离 HEAD"></a>分离 HEAD</h4><p><code>HEAD</code> 不关心分支, 只关心 <code>commit</code> 的 id</p>
<p>当一个 <code>commit</code> 不独属于一个分支时<br><code>checkout</code> 指定的 <code>commit</code> id, 会引起 <code>HEAD</code> 分离, 即 <code>detached HEAD</code> 状态<sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git checkout &lt;commit <span class="hljs-built_in">id</span>&gt;<br><br><span class="hljs-comment"># 这样会可能进入 分离 HEAD 状态</span><br></code></pre></td></tr></table></figure>

<hr>
<h3 id="删除与撤销"><a href="#删除与撤销" class="headerlink" title="删除与撤销"></a>删除与撤销</h3><h4 id="删除跟踪的文件"><a href="#删除跟踪的文件" class="headerlink" title="删除跟踪的文件"></a>删除跟踪的文件</h4><p>从工作目录中删除跟踪的文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 查看哪些文件属于暂存区</span><br>git ls-files<br><br><span class="hljs-comment"># 将指定文件从暂存区删除</span><br>git <span class="hljs-built_in">rm</span> &lt;文件名&gt;<br></code></pre></td></tr></table></figure>

<hr>
<h4 id="撤消操作"><a href="#撤消操作" class="headerlink" title="撤消操作"></a>撤消操作</h4><p>当文件做出更改时, 你想将指定文件回到最后一次 <code>commit</code> 状态</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 将指定文件回归到最后一次 commit 的状态</span><br><span class="hljs-comment"># --代表没有指定分支</span><br>git checkout -- &lt;文件名&gt;<br><br><span class="hljs-comment"># 简写</span><br>git checkout  &lt;文件名&gt;<br><br><span class="hljs-comment"># 例:</span><br><span class="hljs-comment"># 将当前文件夹恢复至最后一次提交的状态</span><br>git checkout -- ./<br></code></pre></td></tr></table></figure>

<hr>
<h5 id="新命令-1"><a href="#新命令-1" class="headerlink" title="新命令"></a>新命令</h5><p>等价于 <code>git checkout -- &lt;文件名&gt;</code>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git restore &lt;文件名&gt;<br></code></pre></td></tr></table></figure>

<hr>
<h4 id="删除未跟踪的文件"><a href="#删除未跟踪的文件" class="headerlink" title="删除未跟踪的文件"></a>删除未跟踪的文件</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 删除指定未跟踪的文件</span><br>git clean &lt;文件&gt;<br><br><span class="hljs-comment"># 列出将要删除的文件</span><br>git clean -dn<br><br><span class="hljs-comment"># 删除所有未跟踪的文件</span><br>git clean -d<br><br><span class="hljs-comment"># 忽略提醒并删除</span><br><span class="hljs-comment"># -f 强制</span><br>git clean -<span class="hljs-built_in">df</span><br></code></pre></td></tr></table></figure>

<hr>
<h4 id="撤销提交到暂存区的文件"><a href="#撤销提交到暂存区的文件" class="headerlink" title="撤销提交到暂存区的文件"></a>撤销提交到暂存区的文件</h4><p>在将文件提交到暂存区后, <code>HEAD</code> 会指向暂存区<br>如果使用 <code>git checkout</code> 命令进行撤销, 将不会起作用</p>
<p><code>git reset</code> 将文件的最新 <code>commit</code> 存放到暂存区</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">git reset &lt;文件名&gt;<br><br><span class="hljs-comment"># 然后再进行撤销</span><br>git checkout &lt;文件名&gt;<br></code></pre></td></tr></table></figure>

<hr>
<h5 id="新命令-2"><a href="#新命令-2" class="headerlink" title="新命令"></a>新命令</h5><p><code>git reset </code> 命令等价于:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git restore --staged &lt;文件名&gt;<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="Git-Stash"><a href="#Git-Stash" class="headerlink" title="Git Stash"></a>Git Stash</h3><h4 id="基础使用"><a href="#基础使用" class="headerlink" title="基础使用"></a>基础使用</h4><p>当你想保存当前代码进度而又不想提交或创建新分支时<br>你可以用到 <code>git stash</code></p>
<p><code>git stash</code> 的基本运用:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 执行这条命令后, 工作目录会跳回到最新的提交</span><br>git stash<br><br><br><span class="hljs-comment"># 执行这条命令后</span><br><span class="hljs-comment"># 工作目录恢复到 执行 git stash 前的状态</span><br>git stash apply<br></code></pre></td></tr></table></figure>

<hr>
<h4 id="更多用法"><a href="#更多用法" class="headerlink" title="更多用法"></a>更多用法</h4><p>列出多个 <code>stash</code>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">git stash list<br><br><span class="hljs-comment"># 输出</span><br>stash@&#123;0&#125;: WIP on master: 8adf4dd file1 added<br><br><span class="hljs-comment"># 应用指定下标的 stash</span><br>git stash apply &#123;0&#125;<br></code></pre></td></tr></table></figure>

<hr>
<p>创建 <code>stash</code> 时还可添加备注</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git stash push -m <span class="hljs-string">&quot;这是备注&quot;</span><br></code></pre></td></tr></table></figure>

<hr>
<p>如果想将 <code>stash</code> 中的内容加入到暂存区, 需要将其弹出</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git stash pop [stash_下标]<br></code></pre></td></tr></table></figure>

<p>删除某个 <code>stash</code>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">git stash drop  [stash_下标]<br><br><span class="hljs-comment"># 想删除所有 stash</span><br>git stash clear<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="Git-Reflog"><a href="#Git-Reflog" class="headerlink" title="Git Reflog"></a>Git Reflog</h3><p>如果误删一个提交或一个分支, 可使用 <code>git reflog</code> 恢复<br>需要注意, 恢复的有效期只有 30 天</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 删除的提交会恢复</span><br>git reflog<br></code></pre></td></tr></table></figure>

<p>恢复分支</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 先从该命令的输出中查找你要恢复的分支哈希值</span><br>git reflog<br><br><span class="hljs-comment"># 先分离 HEAD</span><br>git checkout [哈希值]<br><br><span class="hljs-comment"># 然后再创建分支</span><br>git switch -c [分支名]<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="合并分支-1"><a href="#合并分支-1" class="headerlink" title="合并分支"></a>合并分支</h3><p>分支合并感觉稍微有点复杂, 使用使用时还需复习下</p>
<p>合并类型:</p>
<ul>
<li>快进合并 (Fast Forward)</li>
<li>非快进合并 (Non Fast Forward)</li>
<li>递归合并</li>
<li>. . .</li>
</ul>
<h4 id="快进合并"><a href="#快进合并" class="headerlink" title="快进合并"></a>快进合并</h4><p>主分支不改动(即没有任何新的提交), 分支提交改变.<br>在这种情况下合并分支就被称为<strong>快进合并</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">git switch master<br><br><span class="hljs-comment"># 快速合并</span><br>git merge [分支名]<br></code></pre></td></tr></table></figure>

<p>这样的合并不会创建新的提交, 也就意味着 <code>HEAD</code> 会同时指向主分支和改变的分支</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 进入主分支</span><br>git switch master<br><br><span class="hljs-comment"># 将分支的改变加入到主分支的暂存区</span><br>git merge --squash [分支名]<br><br>git commit -m <span class="hljs-string">&quot;...&quot;</span><br></code></pre></td></tr></table></figure>

<hr>
<h4 id="非快进合并-递归合并"><a href="#非快进合并-递归合并" class="headerlink" title="非快进合并(递归合并)"></a>非快进合并(递归合并)</h4><p>主分支有额外提交, 同时其他分支也有额外提交,<br>这个时候会用到<strong>非快速合并</strong></p>
<p>使用非快速合并, 两个分支将会被合并为一个分支, 并添加至主分支</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># --no-ff 非快速合并</span><br>git merage --no-ff [分支]<br></code></pre></td></tr></table></figure>

<hr>
<h4 id="Git-Rebase"><a href="#Git-Rebase" class="headerlink" title="Git Rebase"></a>Git Rebase</h4><p><code>rebase</code> 不是移动提交, 而是创建新的提交</p>
<p><strong>注意: 不要在你的本地仓库外 rebase 提交</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git branch 其他分支<br><br>git rebase 主分支<br></code></pre></td></tr></table></figure>

<p><code>rebase</code> 通过检测两个分支的同一个起点, 然后基于同一个起点,<br>将其他分支的进度创建至主分支</p>
<hr>
<h4 id="合并冲突"><a href="#合并冲突" class="headerlink" title="合并冲突"></a>合并冲突</h4><p>有很多潜在的合并冲突, 最容易想到的是不同分支的同一个文件的同一个位置被同时修改导致的合并冲突</p>
<p>当发生合并冲突时, 发生冲突的文件会显示冲突的细节<br>如果使用 VS Code, VS Code 会给出四个选项来处理冲突:</p>
<ul>
<li>不接受合并改变 (Accept Current Changes)</li>
<li>接受合并后的改变 (Accept Incoming Changes)</li>
<li>接受两个改变 (AcceptBoth Changes)</li>
<li>比较变化 (Compare Changes)</li>
</ul>
<p>当然, 也可以手动删除你不想要的冲突, 然后将文件添加到暂存区,然后提交(合并)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 查看冲突状态</span><br>git status<br><br><span class="hljs-comment"># 查看具体的冲突</span><br>git diff<br><br><span class="hljs-comment"># 终止合并</span><br>git merge --abort<br><br><span class="hljs-comment"># 可以查看到两个将要合并的提交</span><br>git <span class="hljs-built_in">log</span> --merge<br></code></pre></td></tr></table></figure>

<p>要解决冲突, 就是手动删除你不想要的冲突, 然后 <code>add ./</code>, 然后 <code>commit</code></p>
<hr>
<h4 id="合并-Rebase-Cherry-Pick-的比较"><a href="#合并-Rebase-Cherry-Pick-的比较" class="headerlink" title="合并, Rebase, Cherry Pick 的比较"></a>合并, Rebase, Cherry Pick 的比较</h4><p class='item-img' data-src='https://pic.voiblog.top/i/2023/11/6552c982e8011.jpg'><img src="https://pic.voiblog.top/i/2023/11/6552c982e8011.jpg" alt="git_3merges.jpg"></p>
<p><strong>Cherry Pick</strong></p>
<p>假设这么一种情况, 如果你的主分支出现一些代码上的拼写错误, 而你在分支上修复了它<br>现在, 你只想将修复了的提交合并至主分支,而不是分支上的所有修改, 这个时候就可以用到 <code>cherry-pick</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 假设分支上有两个提交</span><br><span class="hljs-comment"># 现在我们只想合并 commit 1 至主分支</span><br><br>commit 2 (HEAT -&gt; git-branch)<br>...<br>    new-feture<br><br>commit 1<br>...<br>    fixed typo<br></code></pre></td></tr></table></figure>

<p><code>cherry-pick</code> 复制提交, 并生成一个新的提交 ID</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 回到主分支</span><br>git switch master<br><br><span class="hljs-comment"># 合并指定分支</span><br>git cherry-pick 分支提交ID<br><br><span class="hljs-comment"># 例:</span><br><span class="hljs-comment"># 将上面分支的 commit 1 合并到主分支</span><br>git switch master<br>git cherry-pick 1<br></code></pre></td></tr></table></figure>

<hr>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p class='item-img' data-src='https://pic.voiblog.top/i/2023/11/65541a382c64c.jpg'><img src="https://pic.voiblog.top/i/2023/11/65541a382c64c.jpg" alt="git_summery.jpg"></p>
<hr>
<h3 id="Git-标签-git-tag"><a href="#Git-标签-git-tag" class="headerlink" title="Git 标签 (git tag)"></a>Git 标签 (git tag)</h3><p>假设我们的 Git 仓库有很多提交, 其中有些提交是一些代码的最终版本(比如版本 1.0, 版本 2.0 …)<br>我们可以通过添加 Git 标签来快速定位到这些提交</p>
<p>标签类型:</p>
<ul>
<li>轻量标签</li>
<li>注释标签 (完整的 tag 对象)</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 显示所有的标签</span><br>git tag<br><br><span class="hljs-comment"># 添加轻量标签</span><br>git tag 标签名 提交ID<br><br><span class="hljs-comment"># 添加注释标签</span><br>git tag -a 标签名 <span class="hljs-string">&#x27;注释信息&#x27;</span><br><br><span class="hljs-comment"># 显示Git 标签</span><br>git show 标签名<br><br><span class="hljs-comment"># 删除轻量标签</span><br>git tag -d 标签名<br></code></pre></td></tr></table></figure>

<p>进入标签标记的提交</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git checkout 标签名<br></code></pre></td></tr></table></figure>

<hr>
<h2 id="GitHub"><a href="#GitHub" class="headerlink" title="GitHub"></a>GitHub</h2><p>GitHub 官网: <a target="_blank" rel="noopener" href="https://github.com/">https://github.com</a></p>
<p>GitHub:</p>
<ul>
<li>最大的开发平台</li>
<li>云托管与云协作的服务商</li>
<li>Git 存储库的托管服务商</li>
</ul>
<hr>
<h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><ul>
<li>本地仓库 git</li>
<li>远程仓库 GitHub</li>
</ul>
<p>远程仓库可以是 GitHub 或其他代码托管平台(比如 Gitea, Gitlab….)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 添加远程仓库</span><br><span class="hljs-comment"># 这里的 origin 指的是远程仓库的别名</span><br>git remote add origin 远程仓库地址<br></code></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 将本地信息上传至远程仓库</span><br>git push<br><br><span class="hljs-comment"># 本地仓库与远程仓库同步</span><br>git pull<br></code></pre></td></tr></table></figure>

<p class='item-img' data-src='https://pic.voiblog.top/i/2023/11/65541d430b20a.jpg'><img src="https://pic.voiblog.top/i/2023/11/65541d430b20a.jpg" alt="git_github.jpg"></p>
<hr>
<div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none; padding-left: 0;"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">1.</span><span style="display: inline-block; vertical-align: top;">不仅仅是代码, 也可以是其它类型的文件</span><a href="#fnref:1" rev="footnote"> ↩</a></li><li id="fn:2"><span style="display: inline-block; vertical-align: top; padding-right: 10px;">2.</span><span style="display: inline-block; vertical-align: top;">放心, 这样没有任何问题</span><a href="#fnref:2" rev="footnote"> ↩</a></li></ol></div></div><div id="paginator"></div></div><div id="post-footer"><div id="pages"><div class="footer-link" style="width: 50%;text-align:right;border-right:1px #fe2 solid"><a href="/2023/Python/python_lib/">← 下一篇 Python 第三方库</a></div><div class="footer-link" style="width: 50%;right:1px;border-left:1px #fe2 solid"><a href="/2023/Python/python_basic/">Python 语法 上一篇 →</a></div></div></div></div><div class="bottom-btn"><div><a class="i-top" id="to-top" onClick="scrolls.scrolltop();" title="回到顶部" style="opacity: 0; display: none;">∧ </a><a class="i-index" id="to-index" href="#toc-div" title="文章目录">≡</a><a class="i-color" id="color-mode" onClick="colorMode.change()" title="切换主题"></a></div></div></article><aside><div id="about"><a href="/" id="logo"><img src="https://pic.voiblog.top/i/2023/09/65069e5b50c1f.png" alt="Logo"></a><h1 id="Dr"><a target="_blank" rel="noopener" href="https://www.voiblog.top/">Voilone</a></h1><div id="description"><p></p></div></div><div id="aside-block"><div id="toc-div"><h1>目录</h1><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Git"><span class="toc-text">Git</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Git-%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%96%B9%E5%BC%8F"><span class="toc-text">Git 的工作方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%93%E5%BA%93%E5%88%9D%E5%A7%8B%E5%8C%96-%E5%92%8C-%E6%8F%90%E4%BA%A4-Commit"><span class="toc-text">仓库初始化 和 提交 Commit</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%94%AF-Branches"><span class="toc-text">分支 Branches</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%88%E5%B9%B6%E5%88%86%E6%94%AF"><span class="toc-text">合并分支</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B0%E5%91%BD%E4%BB%A4"><span class="toc-text">新命令</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HEAD"><span class="toc-text">HEAD</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%A6%BB-HEAD"><span class="toc-text">分离 HEAD</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E4%B8%8E%E6%92%A4%E9%94%80"><span class="toc-text">删除与撤销</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%B7%9F%E8%B8%AA%E7%9A%84%E6%96%87%E4%BB%B6"><span class="toc-text">删除跟踪的文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%92%A4%E6%B6%88%E6%93%8D%E4%BD%9C"><span class="toc-text">撤消操作</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B0%E5%91%BD%E4%BB%A4-1"><span class="toc-text">新命令</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%9C%AA%E8%B7%9F%E8%B8%AA%E7%9A%84%E6%96%87%E4%BB%B6"><span class="toc-text">删除未跟踪的文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%92%A4%E9%94%80%E6%8F%90%E4%BA%A4%E5%88%B0%E6%9A%82%E5%AD%98%E5%8C%BA%E7%9A%84%E6%96%87%E4%BB%B6"><span class="toc-text">撤销提交到暂存区的文件</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B0%E5%91%BD%E4%BB%A4-2"><span class="toc-text">新命令</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Git-Stash"><span class="toc-text">Git Stash</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8"><span class="toc-text">基础使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9B%B4%E5%A4%9A%E7%94%A8%E6%B3%95"><span class="toc-text">更多用法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Git-Reflog"><span class="toc-text">Git Reflog</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%88%E5%B9%B6%E5%88%86%E6%94%AF-1"><span class="toc-text">合并分支</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BF%AB%E8%BF%9B%E5%90%88%E5%B9%B6"><span class="toc-text">快进合并</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%9E%E5%BF%AB%E8%BF%9B%E5%90%88%E5%B9%B6-%E9%80%92%E5%BD%92%E5%90%88%E5%B9%B6"><span class="toc-text">非快进合并(递归合并)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Git-Rebase"><span class="toc-text">Git Rebase</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%88%E5%B9%B6%E5%86%B2%E7%AA%81"><span class="toc-text">合并冲突</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%88%E5%B9%B6-Rebase-Cherry-Pick-%E7%9A%84%E6%AF%94%E8%BE%83"><span class="toc-text">合并, Rebase, Cherry Pick 的比较</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Git-%E6%A0%87%E7%AD%BE-git-tag"><span class="toc-text">Git 标签 (git tag)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#GitHub"><span class="toc-text">GitHub</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5"><span class="toc-text">概念</span></a></li></ol></li></ol></div></div><footer><nobr><span class="icp-title">ICP</span><a class="icp-content" target="_blank" rel="noopener" href="https://beian.miit.gov.cn/">蜀ICP备2022023623号-1</a></nobr><br><nobr><span class="icp-title">©</span><span class="icp-content">2023</span></nobr><br><nobr>构建自 <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a></nobr><wbr><nobr> 使用主题 <a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknights</a></nobr><wbr><nobr> 主题作者 <a target="_blank" rel="noopener" href="https://github.com/Yue-plus">Yue_plus</a></nobr></footer></aside></main><canvas id="canvas-dust"></canvas></body></html>